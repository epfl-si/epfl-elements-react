import{j as t}from"./jsx-runtime-ffb262ed.js";import{r as b}from"./index-76fb7be0.js";import{L as I}from"./index-5d632df7.js";import"./_commonjsHelpers-de833af9.js";import"./index-d3ea75b5.js";import"./index-1c685bd7.js";const P="data:image/svg+xml,%0A%3Csvg%20viewBox%3D%220%200%2016%2016%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Cpath%20d%3D%22M4.414%209l5.293%205.293-1.414%201.414L.586%208%208.293.293l1.414%201.414L4.414%207H16v2z%22%20fill-rule%3D%22nonzero%22%2F%3E%0A%3C%2Fsvg%3E%0A",O="data:image/svg+xml,%0A%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%2024%2024%22%3E%0A%20%20%3Cpath%20fill%3D%22currentColor%22%20d%3D%22M7.1%2017.9l1.9%202%207.9-7.9L9%204.1l-1.9%202L13%2012z%22%2F%3E%0A%3C%2Fsvg%3E%0A",M=(e,n,i)=>t.jsxs(t.Fragment,{children:[i?t.jsx(I,{to:e,children:n}):t.jsx("a",{href:e,children:n}),t.jsx("a",{role:"button","aria-hidden":"true",id:n,className:"forward nav-arrow",children:t.jsx("div",{className:"icon-container",children:t.jsx("img",{className:"icon","aria-hidden":"true",src:O})})})]}),T=(e,n,i)=>t.jsx(t.Fragment,{children:i?t.jsxs(I,{to:e,className:"back",children:[t.jsx("img",{className:"icon","aria-hidden":"true",src:P}),n]}):t.jsxs("a",{href:e,className:"back",children:[t.jsx("img",{className:"icon","aria-hidden":"true",src:P}),n]})}),q=(e,n,i)=>t.jsx(t.Fragment,{children:i?t.jsx(I,{to:e,children:n}):t.jsx("a",{href:e,children:n})}),H=(e,n,i)=>{const s=e.filter(a=>a.currentItem===!0);if(s.length>0)return{found:s[0],items:e,parent:n,parentMenus:i};let c;for(const a of e){const{menus:o,link:h,heading:u}=a;if(o&&(c=H(o,{heading:u,link:h,menus:o},e),c))return c}},G=(e,n,i,s,c,a)=>{const o=s.filter(u=>u.heading===i);if(e&&o.length>0)return{parent:o[0],items:o[0].menus};if(o.length>0)return{found:o[0],items:s,parent:c,parentMenus:a};let h;for(const u of s){const{menus:l,link:m,heading:g}=u;if(l&&(h=G(e,n,i,l,{heading:g,link:m,menus:l},s),h))return h}},V=(e,n,i)=>e.currentItem?t.jsx("li",{className:"current-menu-item menu-item-has-children",children:M(e.link,e.heading,i)},n):t.jsx("li",{className:"menu-item-has-children",children:M(e.link,e.heading,i)},n),$=(e,n,i)=>e.currentItem?t.jsx("li",{className:"current-menu-item",children:q(e.link,e.heading,i)},n):t.jsx("li",{className:"",children:q(e.link,e.heading,i)},n),J=(e,n,i,s)=>t.jsxs("li",{className:`${n} menu-has-item-children`,children:[M(e.link,e.heading,s),t.jsxs("ul",{children:[t.jsx("li",{className:"nav-back",children:T(e.link,e.heading,s)}),i.map((c,a)=>c.menus?V(c,a,s):$(c,a,s))]})]}),K=(e,n)=>e.map((i,s)=>i.menus?t.jsx("li",{className:"menu-item-has-children",children:M(i.link,i.heading,n)},s):t.jsx("li",{className:"",children:q(i.link,i.heading,n)},s));function N({mainMenuStructure:e,useReactRouterLinks:n}){const[i,s]=b.useState("current-menu-parent"),[c,a]=b.useState("current-menu-ancestor"),[o,h]=b.useState();function u(r){r.preventDefault();const k=r.target.offsetParent.className.includes("forward"),v=r.target.className.includes("icon")||r.target.className.includes("icon-container")?r.target.offsetParent.id:r.target.className,j=r.target.textContent?r.target.textContent:r.target.offsetParent.id,x=G(k,v,j,e,void 0,void 0);v==="back"?(h(x),x.parent==null&&(a("current-menu-parent"),s(""))):k&&(h(x),x.parent!=null&&(a("current-menu-ancestor"),s("current-menu-parent")))}const l=o||H(e,void 0,void 0),m=l?l.items.map(({heading:r,link:k,currentItem:v,menus:j})=>({heading:r,link:k,currentItem:v,menus:j})):(e||[]).map(r=>r),g=l?l.parent:"";b.useEffect(()=>{l||(a("current-menu-parent"),s(""))},[]);const z=()=>t.jsx(t.Fragment,{children:t.jsxs("div",{className:"nav-solid-layout",children:[t.jsx("div",{className:"overlay"}),t.jsx("nav",{className:"nav-main",id:"main-navigation",role:"navigation",children:t.jsx("div",{className:"nav-wrapper",children:t.jsx("div",{className:`nav-container ${c}`,onClick:u,children:t.jsx("ul",{className:"nav-menu",children:g?J(g,i,m,n):K(m,n)})})})})]})});return t.jsx(t.Fragment,{children:z()})}try{N.displayName="MainMenu",N.__docgenInfo={description:"",displayName:"MainMenu",props:{mainMenuStructure:{defaultValue:null,description:"",name:"mainMenuStructure",required:!1,type:{name:"MenuItemProps[]"}},useReactRouterLinks:{defaultValue:null,description:"",name:"useReactRouterLinks",required:!1,type:{name:"boolean"}}}}}catch{}const te={title:"Molecules/MainMenu",component:N,tags:["docsPage"]},d={};d.args={mainMenuStructure:[{heading:"À propos",link:"https://www.epfl.ch/about/fr/",menus:[{heading:"Présidence",link:"https://www.epfl.ch/about/presidency/fr/accueil/"},{heading:"Présentation",link:"https://www.epfl.ch/about/overview/fr/presentation/",menus:[{heading:"Histoire de l'EPFL",link:"https://www.epfl.ch/about/overview/fr/histoire/"},{heading:"Statistiques Institutionnelles",link:"https://www.epfl.ch/about/overview/fr/statistiques-institutionnelles/",currentItem:!0,menus:[{heading:"Statistiques Rankings",link:"https://www.epfl.ch/about/overview/fr/statistiques-institutionnelles/statistiques-rankings/",menus:[{heading:"Glossaire Rankings",link:"https://www.epfl.ch/about/overview/fr/statistiques-institutionnelles/statistiques-rankings/glossaire-rankings/"}]}]},{heading:"Identité",link:"https://www.epfl.ch/about/overview/fr/identite/"}]}]},{heading:"Education",link:"https://www.epfl.ch/education/fr/",menus:[{heading:"Bachelor",link:"https://www.epfl.ch/education/bachelor/fr/"},{heading:"Master",link:"https://www.epfl.ch/education/master/fr/"},{heading:"Doctorat",link:"https://www.epfl.ch/education/doctorat/fr/"}]},{heading:"Recherche",link:"https://www.epfl.ch/recherche/fr/"},{heading:"Innovation",link:"https://www.epfl.ch/innovation/fr/"}]};const w={};w.args={useReactRouterLinks:!0,mainMenuStructure:[{heading:"À propos",link:"https://www.epfl.ch/about/fr/",menus:[{heading:"Présidence",link:"https://www.epfl.ch/about/presidency/fr/accueil/"},{heading:"Présentation",link:"https://www.epfl.ch/about/overview/fr/presentation/",menus:[{heading:"Histoire de l'EPFL",link:"https://www.epfl.ch/about/overview/fr/histoire/"},{heading:"Statistiques Institutionnelles",link:"https://www.epfl.ch/about/overview/fr/statistiques-institutionnelles/",currentItem:!0,menus:[{heading:"Statistiques Rankings",link:"https://www.epfl.ch/about/overview/fr/statistiques-institutionnelles/statistiques-rankings/",menus:[{heading:"Glossaire Rankings",link:"https://www.epfl.ch/about/overview/fr/statistiques-institutionnelles/statistiques-rankings/glossaire-rankings/"}]}]},{heading:"Identité",link:"https://www.epfl.ch/about/overview/fr/identite/"}]}]},{heading:"Education",link:"https://www.epfl.ch/education/fr/",menus:[{heading:"Bachelor",link:"https://www.epfl.ch/education/bachelor/fr/"},{heading:"Master",link:"https://www.epfl.ch/education/master/fr/"},{heading:"Doctorat",link:"https://www.epfl.ch/education/doctorat/fr/"}]},{heading:"Recherche",link:"https://www.epfl.ch/recherche/fr/"},{heading:"Innovation",link:"https://www.epfl.ch/innovation/fr/"}]};const p={};p.args={mainMenuStructure:[{heading:"À propos",link:"https://www.epfl.ch/about/fr/",menus:[{heading:"Présidence",link:"https://www.epfl.ch/about/presidency/fr/accueil/"},{heading:"Présentation",link:"https://www.epfl.ch/about/overview/fr/presentation/",menus:[{heading:"Histoire de l'EPFL",link:"https://www.epfl.ch/about/overview/fr/histoire/"},{heading:"Statistiques Institutionnelles",link:"https://www.epfl.ch/about/overview/fr/statistiques-institutionnelles/",menus:[{heading:"Statistiques Rankings",link:"https://www.epfl.ch/about/overview/fr/statistiques-institutionnelles/statistiques-rankings/",menus:[{heading:"Glossaire Rankings",link:"https://www.epfl.ch/about/overview/fr/statistiques-institutionnelles/statistiques-rankings/glossaire-rankings/"}]}]},{heading:"Identité",link:"https://www.epfl.ch/about/overview/fr/identite/"}]}]},{heading:"Education",link:"https://www.epfl.ch/education/fr/",menus:[{heading:"Bachelor",link:"https://www.epfl.ch/education/bachelor/fr/"},{heading:"Master",link:"https://www.epfl.ch/education/master/fr/"},{heading:"Doctorat",link:"https://www.epfl.ch/education/doctorat/fr/"}]},{heading:"Recherche",link:"https://www.epfl.ch/recherche/fr/"},{heading:"Innovation",link:"https://www.epfl.ch/innovation/fr/"}]};const f={};f.args={mainMenuStructure:[{heading:"À propos",link:"https://www.epfl.ch/about/fr/",menus:[{heading:"Présidence",link:"https://www.epfl.ch/about/presidency/fr/accueil/"},{heading:"Présentation",link:"https://www.epfl.ch/about/overview/fr/presentation/",menus:[{heading:"Histoire de l'EPFL",link:"https://www.epfl.ch/about/overview/fr/histoire/"},{heading:"Statistiques Institutionnelles",link:"https://www.epfl.ch/about/overview/fr/statistiques-institutionnelles/",menus:[{heading:"Statistiques Rankings",link:"https://www.epfl.ch/about/overview/fr/statistiques-institutionnelles/statistiques-rankings/",menus:[{heading:"Glossaire Rankings",link:"https://www.epfl.ch/about/overview/fr/statistiques-institutionnelles/statistiques-rankings/glossaire-rankings/",currentItem:!0}]}]},{heading:"Identité",link:"https://www.epfl.ch/about/overview/fr/identite/"}]}]},{heading:"Education",link:"https://www.epfl.ch/education/fr/",menus:[{heading:"Bachelor",link:"https://www.epfl.ch/education/bachelor/fr/",currentItem:!0},{heading:"Master",link:"https://www.epfl.ch/education/master/fr/"},{heading:"Doctorat",link:"https://www.epfl.ch/education/doctorat/fr/"}]},{heading:"Recherche",link:"https://www.epfl.ch/recherche/fr/"},{heading:"Innovation",link:"https://www.epfl.ch/innovation/fr/"}]};var C,F,D;d.parameters={...d.parameters,docs:{...(C=d.parameters)==null?void 0:C.docs,source:{originalSource:"{}",...(D=(F=d.parameters)==null?void 0:F.docs)==null?void 0:D.source}}};var S,E,y;w.parameters={...w.parameters,docs:{...(S=w.parameters)==null?void 0:S.docs,source:{originalSource:"{}",...(y=(E=w.parameters)==null?void 0:E.docs)==null?void 0:y.source}}};var A,W,_;p.parameters={...p.parameters,docs:{...(A=p.parameters)==null?void 0:A.docs,source:{originalSource:"{}",...(_=(W=p.parameters)==null?void 0:W.docs)==null?void 0:_.source}}};var L,R,B;f.parameters={...f.parameters,docs:{...(L=f.parameters)==null?void 0:L.docs,source:{originalSource:"{}",...(B=(R=f.parameters)==null?void 0:R.docs)==null?void 0:B.source}}};const ne=["Default","RouterLinks","MenuWithoutCurrentItem","MenuWithTwoCurrentItems"];export{d as Default,f as MenuWithTwoCurrentItems,p as MenuWithoutCurrentItem,w as RouterLinks,ne as __namedExportsOrder,te as default};
